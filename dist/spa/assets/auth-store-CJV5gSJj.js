import{_ as i,J as r}from"./index-cnP0FZg9.js";const u=i("auth",{state:()=>({user:""}),actions:{async initialize(){r.auth.onAuthStateChange((s,t)=>{s==="SIGNED_IN"?this.user=t.user:this.user=""})},async register(s,t){const{data:a,error:e}=await r.auth.signUp({email:s,password:t});if(e)throw e;this.user=a.user},async login(s,t){const{user:a,error:e}=await r.auth.signInWithPassword({email:s,password:t});if(e)throw e;this.user=a},async resetPassword(s){const{error:t}=await r.auth.api.resetPasswordForEmail(s);if(t)throw t},async fetchUser(){const{data:s,error:t}=await r.auth.getSession();if(t)throw t;s&&(s&&(this.user=s.session.user),console.log("Fetched data: ",this.user))},async logout(){const{error:s}=await r.auth.signOut();if(s)throw s;this.user="",console.log("User: ",this.user)}}});export{u};
