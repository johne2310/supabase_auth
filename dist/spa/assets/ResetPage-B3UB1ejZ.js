import{Q as c,a as m,b as r}from"./QPage-DBZhwhGB.js";import{Q as p,a as f}from"./QForm-BLwCB--m.js";import{r as g,o as _,J as u,y as w,z as b,A as o,E as l,D as s,Q as y}from"./index-BPZt8yH4.js";import{u as Q}from"./auth-store-WMPpm4-N.js";const S={class:"q-pa-md row items-start q-gutter-md"},V={__name:"ResetPage",setup(h){const a=g(""),d=Q();_(async()=>{console.log("Reset page mounted"),u.auth.onAuthStateChange(async(t,e)=>{t==="PASSWORD_RECOVERY"&&(d.user=e.user,console.log("User for reset is",a.value)),t==="SIGNED_IN"&&console.log("User signed in",e)})});const n=async()=>{console.log("Attempting to reset password with:",a.value);const{data:t,error:e}=await u.auth.updateUser({password:a.value});e?console.log(e):console.log("User: ",t)};return(t,e)=>(b(),w(c,{class:"flex flex-center"},{default:o(()=>[l("div",S,[s(m,{bordered:"",class:"bg-grey-2 my-card",flat:""},{default:o(()=>[s(r,null,{default:o(()=>e[1]||(e[1]=[l("div",{class:"text-h6"},"Password Reset Page",-1),l("div",{class:"text-subtitle2"},"Supabase auth example",-1)])),_:1}),s(r,{class:"q-pt-none"},{default:o(()=>[s(p,{class:"q-gutter-md",onSubmit:n},{default:o(()=>[s(f,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=i=>a.value=i),filled:"",label:"Reset password",type:"password"},null,8,["modelValue"]),l("div",null,[s(y,{color:"primary",label:"Reset Password",size:"md",type:"submit"})])]),_:1})]),_:1})]),_:1})])]),_:1}))}};export{V as default};
